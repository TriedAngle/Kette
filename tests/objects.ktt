// expect:
// vec2[x: 36.7, y: 81.3]
// magnitude: 89.199663676496

(| vec2 = (|  
    parent* = std traits clonable .
    x := 0.0 . y := 0.0 .
    + = (| other -- new | 
        self [ [ x ] bi@ + ] [ [ y ] bi@ + ] 2bi self clone! ) .
    mag = (| -- magnitude |
        self [ x ] [ y ] bi  [ 2.0 ^ ] bi@ + sqrt ) .
    >string = (| -- string | 
       "vec2[x: " self [ x ] [ y ] bi [ >string ] bi@ ", y: " swap "]" + + + + ) .
|) |) universe addTraitSlots

6.7 11.3 vec2 clone!
30.0 70.0 vec2 clone! 
+ [ >string println ] keep
"magnitude: " print mag >string println
